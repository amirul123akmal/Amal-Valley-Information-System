function preview(){var e=document.getElementById("imagefile").files[0];if(void 0!==e){var t=new FileReader;t.onload=function(e){var t=document.getElementById("image-preview");t.src=e.target.result},t.readAsDataURL(e)}else alertify.error("Please choose image first.")}function sendData(e,t,a,r,i){$.post("./api/create/registeractivity",JSON.stringify({name:a,place:r,date:i,timestart:e,timeend:t}),function(e){return"Success"===e.Status?(alertify.success("Successfully Register New Activity."),$("#timestart").val(""),$("#timeend").val(""),$("#activityname").val(""),$("#place").val(""),$("#date").val(""),!0):(alertify.error(e.error),console.log(e),!1)}).fail(function(){return alertify.error("Error occurred while fetching data."),!1})}function sendImage(){fileInput=document.getElementById("imagefile"),file=fileInput.files[0],console.log(fileInput,file),file?(formData=new FormData,formData.append("image",file),$.ajax({url:"./api/create/image",type:"POST",data:formData,processData:!1,contentType:!1,success:function(e){"Success"===e.Status?(console.log("Server response:",e),alertify.success("Successfully upload image")):(alertify.error("Error to upload the image"),console.log("Error:",e.error),alertify.error(e.error))},error:function(e,t,a){console.log("Error:",t,a),alertify.error("Error to upload the image")}})):(alertify.warning("There is no image uploaded."),alertify.warning("Default image will be use"))}function send(){if(timestart=document.getElementById("timestart").value,timeend=document.getElementById("timeend").value,activityname=document.getElementById("activityname").value,place=document.getElementById("place").value,date=document.getElementById("date").value,""!==timestart&&""!==timeend&&""!==activityname&&""!==place&&""!==date)return sendData(timestart,timeend,activityname,place,date),sendImage();alertify.error("Please fill all the fields.")}